@model Daily_Use_App.ViewModels.DashboardVm

@{
    ViewData["Title"] = "Dashboard";
}

<h2>Welcome</h2>

<div class="mb-3">
    <a asp-controller="MoodEntries" asp-action="Index" class="btn btn-primary">Go to Mood Entries</a>
    <a asp-controller="Expenses" asp-action="Index" class="btn btn-secondary">Go to Expenses</a>
    <a asp-controller="Users" asp-action="Index" class="btn btn-link">Manage Users</a>
}</div>

<div class="row mb-3">
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Weather</h5>
                <p class="card-text">@Model.Weather.Summary, @Model.Weather.TempC&deg;C</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Today's Mood</h5>
                <p class="card-text">@((Model.TodayMood != null) ? $"Score: {Model.TodayMood.Score}" : "Not checked")</p>
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Today's Spend</h5>
                <p class="card-text">@Model.TodaySpend</p>
            </div>
        </div>
    </div>
</div>

<div class="row mb-3">
    <div class="col-md-6">
        <div class="alert alert-info">
            <strong>Suggestion:</strong> @Model.Suggestion?.Text
        </div>
    </div>
    <div class="col-md-6">
        <div class="alert alert-secondary">
            <strong>Quote:</strong> @Model.MotivationalQuote
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <h4>Recent Expenses</h4>
        <ul>
            @foreach (var e in Model.RecentExpenses)
            {
                <li>@e.SpentOn.ToShortDateString() - @e.Description - @e.Amount</li>
            }
        </ul>
    </div>
    <div class="col-md-6">
        <h4>Recent Utilities</h4>
        <ul>
            @foreach (var u in Model.RecentUtilities)
            {
                <li>@u.Id</li>
            }
        </ul>
    </div>
</div>

